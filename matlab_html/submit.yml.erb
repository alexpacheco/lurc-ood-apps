# Job submission configuration file
#
---

#
# Configure the content of the job script for the batch job here
# @see http://www.rubydoc.info/gems/ood_core/OodCore/BatchConnect/Template
#
batch_connect:
  template: "basic"
  set_host: "host=$(hostname)"
#
# Configure the job script submission parameters for the batch job here
# @see http://www.rubydoc.info/gems/ood_core/OodCore/Job/Script
#
script:
  queue_name: <%= custom_queue %>
  native: 
    - "--nodes=<%= bc_num_slots.blank? ? "1" : bc_num_slots.to_i %>"
    - "--ntasks-per-node=<%= num_cores.blank? ? "1" : num_cores %>"
    - "--gres=gpu:<%= num_gpus.blank? ? "0" : num_gpus.to_i %>"

